---
typora-root-url: images
---

# 1、框架概述

## 1.1、回顾MVC

MVC为一种编程思想。用于将用户行为与数据操作进行分离。MVC每一个字母代表一层含义

M代表模型主要负责与数据库进行交互，V代表为视图主要负责与用户进行交互，C代表为控制器主要负责对用户

的行为进行调度。

![1573462678218](/1573462678218.png)

## 1.2、框架介绍

框架即一个半成品的源码库。内置实现很多基础功能的封装，例如分页操作、数据库的操作、缓存、验证码等等但是唯独没有业务逻辑。使用框架可以提升项目的开发速度

注意：框架与cms不是不同一个。框架不具备任何业务逻辑，但是cms系统是已经完成了整个项目的业务逻辑

## 1.3、常用的框架

1、CI框架：属于轻量级的框架

2、YII框架：基于组件式的方式开发

3、thinkphp框架：国产框架

4、laravel：专为艺术而生的框架

## 1.4、laravel框架介绍

Laravel 是一套简洁、优雅的 PHP WEB 开发框架（PHP Web Framework），具有富于表达性且简洁的语法，

Laravel 是易于理解且强大的，它提供了强大的工具用以开发大型，健壮的应用，例如具有自动验证、路由、

Session、缓存、数据库迁移工具、单元测试等常用的工具和功能。

官网：https://laravel.com/

中文官网：http://www.golaravel.com/

中文社区：https://laravel-china.org/

# 2、laravel框架部署

部署laravel框架的项目分为源码的获取与项目的部署两步骤

## 2.1、composer获取源码

### 2.1.1、composer介绍

composer 是 PHP 中用来管理依赖（dependency）关系的工具，你可以在自己的项目中声明所依赖的外部工具

库（libraries）,composer 会帮您安装这些依赖的库文件。

composer是一个PHP管理工具可以方便管理项目中依赖的库文件。composer会在网络上下载所需要的资源文件

<https://www.phpcomposer.com/>

### 2.1.2、安装composer

**注意：安装composer之前需要确保当前是PHP版本中已经开启了OpenSSL扩展**

![1573464389325](/1573464389325.png)





1、下载composer

![1573464047291](/1573464047291.png)

2、运行安装文件

![1573464101727](/1573464101727.png)

3、设置php.exe文件位置

![1573464206566](/1573464206566.png)

4、不设置代理

![1573464233955](/1573464233955.png)



5、检查是否安装完毕

![1573464462292](/1573464462292.png)

### 2.1.3、配置composer镜像

由于composer默认会从GitHub上下载资源。由于GitHub属于国外的托管平台下载速度非常慢。因此需要设置下

载地址为国内地址，设置为国内的下载地址即切换镜像

配置格式

```powershell
#使用命令行的方式执行 下面是讲镜像设置为阿里云的地址
composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/
```

![1573464714725](/1573464714725.png)

## 2.2、配置php的环境变量

在PHP中存在php.exe工具，在使用laravel过程中会使用该工具来解析文件。在没有配置环境变量时需要手动输入完整地址非常麻烦。因此设置环境变量后直接使用文件名称即可

1、创建PHP文件

![1573464855407](/1573464855407.png)

2、使用PHP工具解析

![1573464931028](/1573464931028.png)

3、配置环境变量

![1573465122833](/1573465122833.png)

## 2.3、下载laravel源码

1、语法

```php
//composer 表示使用composer工具
//create-project 表示创建项目
//--prefer-dist 表示安装压缩方式传输
//laravel/laravel 指定要下载的源码名称  
//blog 指定项目名称
composer create-project --prefer-dist laravel/laravel blog
```

2、下载源码

![1573465304164](/1573465304164.png)

在使用composer下载laravel框架的源码时默认是下载的最新版本 可以在最后指定版本

## 2.4、配置项目

1、配置虚拟主机

![1573470387188](/1573470387188.png)

2、修改本机的DNS

![1573470434281](/1573470434281.png)

3、重启Apache

![1573470475925](/1573470475925.png)

## 2.5、源码目录

![1573470624308](/1573470624308.png)

`app`：存储用户自定义的代码的目录例如在app\Http\Controllers用于存储用户的控制器文件代码

`bootstrap`：存储框架引导文件的目录

`config`：存储配置文件

`database`：存储数据迁移相关的文件

`public`：域名解析目录，在该目录下的index.php文件为项目的入口文件。并且该目录页可以存储静态资源

`resources`：存储资源文件 在resources\views目录专门用于存储模板文件

`routes`：存储路由文件的目录

`vendor`：存储使用composer所下载的源码目录 例如vendor\laravel\framework\src\Illuminate目录存储着整个

laravel框架的源码

`.env`：环境配置文件 该文件的配置项可以在代码中使用env函数获取

`artisan`：脚手架文件。使用PHP命令行执行的文件。通过该文件可以快速的创建控制器、模型、中间件等

# 3、路由

## 3.1、路由介绍

安装普通方式去访问项目会导致地址非常长最终不方便记忆。通过使用路由功能将地址可以进行简化。最终方便用

户记忆。**路由就是针对用户访问的地址进行匹配，满足条件则执行相关的规则代码**。在路由中需要设置用户访问地

址的匹配规则、以及最终代码的执行规则

## 3.2、默认路由

当直接输入域名可以见到欢迎界面本质是由于有默认的一个路由在生效

1、路由文件地址

```php
routes\web.php   该文件中定义这所有的路由信息
```

2、查看默认的路由设置

![1573471998144](/1573471998144.png)

## 3.3、自定义路由

1、语法格式

```php
//第一个参数指定用户访问地址的匹配，不包括域名 例如用户访问http://blog2.com/index/index 第一个参数就需要设置为index/index
//第二个参数设置匹配之后的执行的回调
Route::请求方式($uri,$callback)
```

2、创建自定义的路由

![1573472366536](/1573472366536.png)

3、访问查看

![1573472375908](/1573472375908.png)





## 3.4、请求方式

请求方式用于控制请求地址时需要采用http协议的哪一种方式请求

1、常用的请求方式

| 方法名称 | 作用                                      |
| -------- | ----------------------------------------- |
| get      | 限制地址只能使用http协议的get方式请求     |
| post     | 限制地址只能使用http协议的post方式请求    |
| put      | 限制地址只能使用http协议的put方式请求     |
| delete   | 限制地址只能使用http协议的delete方式请求  |
| match    | 设置多个请求方式进行匹配 可以同时支持多种 |
| any      | 不限制请求方式                            |

2、定义路由

![1573472650946](/1573472650946.png)

执行结果

![1573472676816](/1573472676816.png)

3、使用match匹配

![1573472761816](/1573472761816.png)

备注：使用match方法第一个参数需要指定支持的请求方式。

4、使用any

![1573472828223](/1573472828223.png)

## 3.5、路由参数

在项目中需要通过参数定位数据。因此路由需要实现对参数的支持。在laravel框架中路由参数包括必填与可选参数区分

### 3.5.1、必填参数

![1573473159900](/1573473159900.png)

结果

![1573473169811](/1573473169811.png)

### 3.5.2、可选参数



![1573473229175](/1573473229175.png)

结果

![1573473236799](/1573473236799.png)

路由参数必填在前可选在后

## 3.6、路由的命名

路由命名即给路由设置一个别名。设置别名目的在于方便生成url地址。设置路由别名即直接调用name方法

1、设置路由设置别名

![1573473453993](/1573473453993.png)

2、程序代码生成地址

![1573473566193](/1573473566193.png)

3、执行

![1573473574170](/1573473574170.png)

## 3.7、路由群组

路由群组即针对多个路由设置为一组统一执行某一项操作

例如开发后台 后台中地址设置如下路由

后台首页：admin/index

后台登录：admin/login

后台发布文章 :admin/add

上面所有项目后台中的地址关注规律 即都有一个admin字符。因此可以通过使用路由群组统一修饰

![1573473835616](/1573473835616.png)

访问结果

![1573473850300](/1573473850300.png)



